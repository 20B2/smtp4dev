<template>

    <div>
        <el-popover placement="bottom"
                    width="160"
                    v-model="visible"
                    trigger="manual" :reference="reference">
            <p>{{message}}</p>
            <div style="text-align: right; margin: 0">
                <el-button size="mini" type="text" @click="cancel()">cancel</el-button>
                <el-button size="mini" type="text" v-if="alwaysIsAvailable()" @click="confirm(true)">always</el-button>
                <el-button type="primary" size="mini" @click="confirm(false)">confirm</el-button>
            </div>
            <slot slot="reference"></slot>
        </el-popover>

    </div>

</template>

<script src="./confirmationdialog.ts"></script>